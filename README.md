# Marketplace dApp

Final project for the Consensys Developer Bootcamp 2018. Smart contracts have been developed using Truffle v5.0.0 and Solidity compiler v0.5.0. Client is a react-app, created with react-truffle-box.

## What does the project do?

The project represents a simple Marketplace application where:

- A group of admins (contract owner by default) can manage store owners.
- Store owners are able to create storefronts, and list items.
- Users are able to browse on every storefronts listed, and purchase items.

## How to set it up?

Requirements:

- Truffle v5.0.0
- Node Package Manager (npm)
- Ganache CLI
- Metamask

Steps:

1. Install all the dependencies for the Truffle environment (Zeppelin library, ethers.js for the tests...etc).
   ```
   $ npm install
   ```
2. Start a local blockchain with Ganache. Make sure it is set on port 8545.
   ```
   $ ganache-cli -p 8545
   ```
3. Compile and migrate the smart contracts.
   ```
   $ truffle compile && truffle migrate
   ```
4. You will need to use Metamask to interact with the dApp. Choose the Network `Localhost 8545` (or your private blockchain if other settings), then import wallets generated by Ganache, especially the first one which will be the contract owner(so the first admin). It can be done under `import account` and by using the private keys generated for the wallets by Ganache.

5. Go the `client` directory and install all the app dependencies.
   ```
   $ cd client
   $ npm install
   ```
6. As this app is using ether.js the `Contract` constructor will need the contract address. You will need to update the address in `App.js`.
   ```
   const SMART_CONTRACT_ADDRESS = new_contract_address
   ```
7. Start the React app.
   ```
   $ npm run start
   ```
8. Alternatively you can use the app locally with the deployed contracts addresses:

- Ropsten: 0x030ff8ef04b5f03fa1e9f08756498f38e35a123d
- Rinkeby: 0xf9cf83fdf7c4dec13aee0156db910b0dd1ae19d1

9. Run the smart contracts tests.
   ```
   $ truffle test
   ```

## Deployed versions of the dApp

Ropsten:

- https://ipfs.io/ipfs/QmZnuSkCcfP39GAdi5UfuSmvWCsR52Piw5n4TBSs2JX3fe
- https://consensys-marketplace-ropsten.netlify.com

Rinkeby:

- https://consensys-marketplace-rinkeby.netlify.com
